<!doctype html>
<html>
    <head>
        <script>
        var x=50, y=50;
        var canvas;
        var ctx;
        var probel=false;
        var color='black';
        var size=20;
        
        function init() {
            canvas = document.getElementById('canvas');
            ctx = canvas.getContext('2d');
            ctx.strokeStyle = 'black';
            ctx.strokeRect(0,0,640,480);
            ctx.fillStyle = color;
            ctx.fillRect(x,y,20,20);

            document.addEventListener("keydown", move);
            document.getElementById("x").value = "x=" + x;
            document.getElementById("y").value = "y=" + y;
        }

        function move(event) {
            if (probel==false) {ctx.clearRect(x,y,size,size);};
            
            if (event.keyCode == 27) {
                ctx.clearRect(1,1,638,478);
                x=50; y=50;
            }

            if (event.keyCode == 38) {y-=size;}
            if (event.keyCode == 40) {y+=size;}
            if (event.keyCode == 39) {x+=size;}
            if (event.keyCode == 37) {x-=size;}
            if (event.keyCode == 32) {probel = !probel;}
            if (event.keyCode == 97) {color='black';}
            if (event.keyCode == 98) {color='red';}
            if (event.keyCode == 99) {color='green';}
            if (event.keyCode == 83) {size=10;}
            if (event.keyCode == 77) {size=20;}
            if (event.keyCode == 66) {size=30;}

            document.getElementById("x").value = x;
            document.getElementById("y").value = y;
            document.getElementById("probel").value = probel;
            ctx.fillStyle = color;
            ctx.fillRect(x,y,size,size);
        }

        //left  37
        //rigth  39
        //up  38
        //down  40
        //s  83
        //m  77
        //b  66
        //NUM 1  97
        //NUM 2  98
        //NUM 3  99
        //Пробел  32
        //ESC  27

        </script>
    </head>
    <body onload="init();">
    <input type="text" id="x"></input>
    <input type="text" id="y"></input>
    <input type="text" id="probel"></input>
<br>
    <canvas id="canvas" width="640" height="480"></canvas>


    </body>
</html>